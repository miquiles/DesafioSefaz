<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>




	<ui:include src="/template/principal.xhtml" />

	<style>
.ui-datatable-tablewrapper {
	border-style: outset;
}

.conteudo {
	margin-left: 366px;
	width: 900px;
	height: 500px;
	margin-top: 60px;
	background-color: white;
	padding: 20px;
}

.input-block{

    font-family: sans-serif;
   

}
</style>





</h:head>



<h:form id="detalhes">

	<div class="conteudo">
		<f:metadata>

			<f:viewAction action="#{pessoabean.atualizarUsuarioLogado}" />
		</f:metadata>

		<p:dataTable value="#{pessoabean.testeListar}" var="p">

			<p:column headerText="Id">

				<h:outputText value="#{p.id}" />

			</p:column>

			<p:column headerText="Nome">

				<h:outputText value="#{p.nome}" />

			</p:column>

			<p:column headerText="Sobrenome">

				<h:outputText value="#{p.sobrenome}" />

			</p:column>

			<p:column headerText="CPF">

				<h:outputText value="#{p.CPF}" />

			</p:column>
			<p:column headerText="Email">

				<h:outputText value="#{p.email}" />

			</p:column>

			<p:column headerText="Sexo">
				<h:outputText value="#{p.sexo}" />

			</p:column>


			<p:column headerText="Senha">

				<h:outputText value="#{p.senha}" />

			</p:column>




			<p:column headerText="Editar">

				<p:commandButton value="Editar" oncomplete="PF('formPessoa').show()"> 
					<f:setPropertyActionListener value="#{p}"
						target="#{pessoabean.pessoa}">
					</f:setPropertyActionListener>
				</p:commandButton>
			</p:column>



		</p:dataTable>


	</div>




</h:form>
		
		<div class="input-block">

			<p:dialog header="Editar Pessoas" footer="Todos os campos devem ser preenchidos" modal="true" height="400" width="400" widgetVar="formPessoa">
				<h:form>
					<h:panelGrid columns="2">
						<p:outputLabel value="Nome"/>
						<h:inputText value="#{pessoabean.pessoa.nome}"/>
						<p:outputLabel value="Sobrenome"/>
						<h:inputText value="#{pessoabean.pessoa.sobrenome}"/>
						<p:outputLabel value="Email"/>
						<h:inputText value="#{pessoabean.pessoa.email}"/>
						<p:outputLabel value="CPF"/>
						<h:inputText value="#{pessoabean.pessoa.CPF}"/>
						<p:outputLabel value="Sexo"/>
						<p:selectOneMenu id="sexo" value="#{pessoabean.pessoa.sexo}" style="width:170px">
            <f:selectItem itemLabel="Sexo" itemValue="" />
            <f:selectItem itemLabel="Masculino" itemValue="masculino" />
            <f:selectItem itemLabel="Feminino" itemValue="feminino" />
            <f:selectItem itemLabel="Outros" itemValue="outros" />
            </p:selectOneMenu>
            			<p:outputLabel value="Senha"/>
						<h:inputText value="#{pessoabean.pessoa.senha}"/>
						
						<p:commandButton value="Salvar" action="#{pessoabean.update}" update=":detalhes"/>
						 <p:messages id="messages" showDetail="true" closable="true">
     			   		<p:autoUpdate/>
    					</p:messages>
        				
						<p:commandButton value="Remover" id="btnRemover" action="#{pessoabean.remover}" update=":detalhes"/>
						
						
					
						
						
						
						
											
					
					</h:panelGrid>
				
				
				</h:form>

			</p:dialog>
</div>




</html>