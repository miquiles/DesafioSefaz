<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>



	<ui:include src="/template/principal.xhtml" />

	<style>
.index{
	
	
	color:#7159c1;
	
	
}	
	
h1{
    font-family: sans-serif;
font-size: 20px;    
}	


	
.ui-datatable-tablewrapper {
	border-style: outset;
}

.conteudo {
	margin-left: 366px;
	width: 900px;
	height: 584px;
	margin-top: 19px;
	background-color: #fafafa;
	padding: 20px;
	border-style: inset;
}

.input-block {
	font-family: sans-serif;
}

.novoUsuario {
	inline-size: min-content;
	height: 349px;
	font-family: Roboto, Arial, sans-serif;
}

.p {
	font-family: sans-serif;
}

.msg {
	margin-left: 990;
	margin-top: -19px;
}





</style>
	<h:outputStylesheet name="primeicons/primeicons.css"
		library="primefaces" />
	<h:outputStylesheet library="webjars"
		name="font-awesome/5.12.0/css/all.min-jsf.css" />
	<h:outputStylesheet library="webjars"
		name="font-awesome/5.12.0/css/v4-shims.min-jsf.css" />




</h:head>

<h:body>

<h:form>

	<div class="descricao">
		<h:graphicImage url="/resources/img/delete.png" width="25" height="25" />
	</div>

	<div class="msg">
		<p:messages id="messages" showDetail="true" closable="true">
			<p:autoUpdate />
		</p:messages>

	</div>

	<div class="conteudo">


		<div class="novoUsuario">




			<p:outputLabel value="Nome" />
			<p:inputText  value="#{pessoabean.pessoa.nome}"
				style="width:170px" />
			<p:outputLabel value="Sobenome" />
			<p:inputText value="#{pessoabean.pessoa.sobrenome}"
				style="width:170px" />
			<p:outputLabel value="Email" />
			<p:inputText  value="#{pessoabean.pessoa.email}"
				style="width:170px" />
			<p:outputLabel value="CPF" />
			<p:inputText  value="#{pessoabean.pessoa.CPF}"
				style="width:170px" />
			<p:outputLabel value="Sexo" />
			<p:selectOneMenu id="sexo" value="#{pessoabean.pessoa.sexo}"
				style="width:170px">
				<f:selectItem itemLabel="Selecione o sexo...	" itemValue="" />
				<f:selectItem itemLabel="Masculino" itemValue="masculino" />
				<f:selectItem itemLabel="Feminino" itemValue="feminino" />
				<f:selectItem itemLabel="Outros" itemValue="outros" />
			</p:selectOneMenu>
			<p:outputLabel value="Senha" />
			<p:password placeholder="Senha" value="#{pessoabean.pessoa.senha}"
				style="width:170px" />

			<p:commandButton value="Adicionar" action="#{pessoabean.update}"
				style="width:85px" />
			<p:commandButton value="Limpar" action="#{pessoabean.limparCampos}"
				update="@form" />




		</div>

		<div class="pesquisar">

			<p:inputText placeholder="Por Id" value="#{pessoabean.pessoa.id}"/>
			<p:commandButton   action="#{pessoabean.pesquisarId}" target="#{pessoabean.pessoa}" update=":resultPesquisa" 
			oncomplete="PF('dialogPesquisar').show();" icon="pi pi-search"/>


		</div>
		<f:metadata>

			<f:viewAction action="#{pessoabean.atualizarUsuarioLogado}" />
		</f:metadata>
		
		<h1>Lista de todos os usu√°rios</h1>
		

		<p:dataTable border="2" value="#{pessoabean.testeListar}" var="p"
			scrollable="true" scrollHeight="100">
			<p:column headerText="Id" footerText="Id">

				<h:outputText value="#{p.id}" />

			</p:column>


			<p:column  headerText="Nome" footerText="Nome">

				<h:outputText value="#{p.nome}" />

			</p:column>

			<p:column headerText="Sobrenome" footerText="Sobrenome">

				<h:outputText value="#{p.sobrenome}" />

			</p:column>

			<p:column headerText="CPF" footerText="CPF">

				<h:outputText value="#{p.CPF}" />

			</p:column>
			<p:column headerText="Email" footerText="Email">

				<h:outputText value="#{p.email}" />

			</p:column>

			<p:column headerText="Sexo" footerText="Sexo">
				<h:outputText value="#{p.sexo}" />

			</p:column>


			<p:column headerText="Senha" footerText="Senha">

				<h:outputText value="#{p.senha}" />

			</p:column>




			<p:column headerText="Editar" footerText="Editar" style="color:blue;">

				<h:commandLink update="@form" >
					<h:graphicImage url="/resources/img/editar.png" width="25"
						height="25" />
					<f:setPropertyActionListener value="#{p}"
						target="#{pessoabean.pessoa}">
					</f:setPropertyActionListener>
				</h:commandLink>
			</p:column>
			

			<p:column headerText="Deletar" footerText="Deletar"
				style="color:blue;">

				<p:commandLink update="@form" action="#{pessoabean.remover}">
					<h:graphicImage url="/resources/img/delete.png" width="25"
						height="25" />
					<f:setPropertyActionListener value="#{p}"
						target="#{pessoabean.pessoa}">
					</f:setPropertyActionListener>
				</p:commandLink>
			</p:column>


			<p:column headerText="Contatos" footerText="Contatos"
				style="color:blue;">

				<p:commandLink
				action="/paginas/telefones.xhmtl" immediate="true" id="btnTelefone">
					<h:graphicImage url="/resources/img/whatsapp-logo-1.png" width="35" 
						height="25" />
					<f:param name="codigouser" value="#{p.id}"/>
				</p:commandLink>
			</p:column>



		</p:dataTable>
		
		
		
		
		
		



	</div>
	
	
	


</h:form>


<p:dialog modal="true" widgetVar="dialogPesquisar" rendered="true" width="600" height="200" header="Resultado da Pesquisa" footer="Pesquisa por ID">
<h:form id="resultPesquisa">

<p:dataTable value="#{pessoabean.usuarioPesquisa}" var="p"
			scrollable="true" scrollHeight="100">
			<p:column headerText="Id" footerText="Id">

				<h:outputText value="#{p.id}" />

			</p:column>


			<p:column headerText="Nome" footerText="Nome">

				<h:outputText value="#{p.nome}" />

			</p:column>

			<p:column headerText="Sobrenome" footerText="Sobrenome">

				<h:outputText value="#{p.sobrenome}" />

			</p:column>

			<p:column headerText="CPF" footerText="CPF">

				<h:outputText value="#{p.CPF}" />

			</p:column>
			<p:column headerText="Email" footerText="Email">

				<h:outputText value="#{p.email}" />

			</p:column>

			<p:column headerText="Sexo" footerText="Sexo">
				<h:outputText value="#{p.sexo}" />

			</p:column>


			<p:column headerText="Senha" footerText="Senha">

				<h:outputText value="#{p.senha}" />

			</p:column>




			<p:column headerText="Editar" footerText="Editar" style="color:blue;">

				<h:commandLink update="@form">
					<h:graphicImage url="/resources/img/editar.png" width="25"
						height="25" />
					<f:setPropertyActionListener value="#{p}"
						target="#{pessoabean.pessoa}">
					</f:setPropertyActionListener>
				</h:commandLink>
			</p:column>

			<p:column headerText="Deletar" footerText="Deletar"
				style="color:blue;">

				<p:commandLink update="@form" action="#{pessoabean.remover}">
					<h:graphicImage url="/resources/img/delete.png" width="25"
						height="25" />
					<f:setPropertyActionListener value="#{p}"
						target="#{pessoabean.pessoa}">
					</f:setPropertyActionListener>
				</p:commandLink>
			</p:column>

			



		</p:dataTable>
		</h:form>
		
</p:dialog>


</h:body>

</html>